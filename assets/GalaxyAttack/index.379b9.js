window.__require=function t(e,n,i){function o(c,s){if(!n[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var u=n[c]={exports:{}};e[c][0].call(u.exports,function(t){return o(e[c][1][t]||t)},u,u.exports,t,e,n,i)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<i.length;c++)o(i[c]);return o}({"Script.Audio":[function(t,e,n){"use strict";cc._RF.push(e,"27dceD5FZFGm45t1pa+dOoT","Script.Audio");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0}),n.SOUND_TYPE=n.MUSIC_TYPE=void 0;var c,s=cc._decorator,a=s.ccclass,l=s.property;(function(t){t[t.BASEGAME_BGM=0]="BASEGAME_BGM"})(c=n.MUSIC_TYPE||(n.MUSIC_TYPE={})),function(t){t[t.BEGIN=0]="BEGIN",t[t.CASH_OUT=1]="CASH_OUT",t[t.CLICK=2]="CLICK",t[t.HEART_BEAT=3]="HEART_BEAT",t[t.FLIP_CARD=4]="FLIP_CARD",t[t.MONSTER_EXPLOSION=5]="MONSTER_EXPLOSION",t[t.ROAR_EASY=6]="ROAR_EASY",t[t.ROAR_HARD=7]="ROAR_HARD",t[t.ROAR_NORMAL=8]="ROAR_NORMAL",t[t.SHOOT=9]="SHOOT"}(n.SOUND_TYPE||(n.SOUND_TYPE={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainBGM=[],e.listAuds=[],e._musicId=-1,e._loopId=-1,e._volume=1,e.audioStatus=!0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,this.init()},e.prototype.onDestroy=function(){},e.prototype.init=function(){this.setSystemVolume(1)},e.prototype.getSystemVolume=function(){return this._volume},e.prototype.setSystemVolume=function(t){this._volume=t,cc.audioEngine.setVolume(this._musicId,t)},e.prototype.playSound=function(t){var e=this.listAuds[t];e&&this.audioStatus&&cc.audioEngine.play(e,!1,this._volume)},e.prototype.playMusic=function(t){cc.audioEngine.stop(this._musicId);var e=this.mainBGM[t];e&&this.audioStatus&&(this._musicId=cc.audioEngine.play(e,!0,this._volume))},e.prototype.playLoop=function(t){cc.audioEngine.stop(this._loopId);var e=this.listAuds[t];e&&this.audioStatus&&(this._loopId=cc.audioEngine.play(e,!0,this._volume))},e.prototype.stopPlayLoop=function(){cc.audioEngine.stop(this._loopId)},e.prototype.stopMusic=function(){cc.audioEngine.stop(this._musicId)},e.prototype.pauseMusic=function(){cc.audioEngine.pause(this._musicId)},e.prototype.resumeMusic=function(){cc.audioEngine.resume(this._musicId)},e.prototype.setAudioStatus=function(){this.audioStatus=!this.audioStatus,this.audioStatus?this.playMusic(c.BASEGAME_BGM):this.stopAll()},e.prototype.getAudioStatus=function(){return this.audioStatus},e.prototype.stopAll=function(){cc.audioEngine.stopAll()},e.instance=null,r([l(cc.AudioClip)],e.prototype,"mainBGM",void 0),r([l(cc.AudioClip)],e.prototype,"listAuds",void 0),n=r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],"Script.Cmd":[function(t,e,n){"use strict";cc._RF.push(e,"ebf60c7l0xFw6XIc5Yj25Io","Script.Cmd");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.Cmd=void 0;var r=t("./Script.Common"),c=t("./Script.Connector");(function(t){var e=function(){function t(){}return t.CMD_LOGIN=1,t.CMD_LOGOUT=2,t.CMD_DISCONNECTED=37,t.CMD_CHECK_GAME=5001,t.CMD_GAME_INFO=5002,t.CMD_5003=5003,t.CMD_ROUND_RESULT=5004,t.CMD_TIME=5005,t.CMD_SKIP_BET=5006,t.CMD_CASH_OUT=5007,t.CMD_HISTORY=5008,t.CMD_CONFIRM_JOIN_ROOM=5009,t.CMD_PLAYER_INFO=5011,t.CMD_WIN_NOTI=5015,t}();t.Cmd=e;var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wallets=[],e}return o(e,t),e.prototype.unpack=function(){if(0===this.getError()){this.userId=this.getInt(),this.userName=this.getString();var t=this.getBool();this.displayName=t?this.getString():"";var e=this.getBool();this.avatar=e?this.getString():"",this.size=this.getShort();for(var n=0;n<this.size;n++){var i={key:this.getString(),value:this.getDouble()};this.wallets.push(i)}}},e}(BGUI.BaseInPacket);t.ReceiveLogin=n;var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data={betAmount:-1,isEndGame:!1,currentUserMoney:-1,mine:-1,currentHp:-1,currentPayOut:-1,nextPayOut:-1,level:-1},e.size=-1,e.listPayOut=[],e}return o(e,t),e.prototype.unpack=function(){if(0===this.getError()){this.data.level=this.getInt(),this.data.betAmount=this.getDouble(),this.data.isEndGame=this.getBool(),this.data.currentUserMoney=this.getDouble(),this.data.mine=this.getInt(),this.data.currentHp=this.getInt(),this.data.currentPayOut=this.getDouble(),this.data.nextPayOut=this.getDouble(),this.size=this.getShort();for(var t=0;t<this.size;t++)this.listPayOut.push(this.getDouble())}},e}(BGUI.BaseInPacket);t.ReceiveGameInfo=i;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data={betAmount:-1,isEndGame:!1,currentUserMoney:-1,mine:-1,currentHp:-1,currentPayOut:-1,nextPayOut:-1,rate:-1,level:-1},e}return o(e,t),e.prototype.unpack=function(){0==this.getError()&&(this.data.betAmount=this.getDouble(),this.data.isEndGame=this.getBool(),this.data.currentUserMoney=this.getDouble(),this.data.mine=this.getInt(),this.data.currentHp=this.getInt(),this.data.currentPayOut=this.getDouble(),this.data.nextPayOut=this.getDouble(),this.data.rate=this.getDouble(),this.data.level=this.getInt())},e}(BGUI.BaseInPacket);t.ReceiveRoundResult=s;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.err=-1,e.time=-1,e}return o(e,t),e.prototype.unpack=function(){this.err=this.getError(),0===this.err&&(this.time=this.getInt())},e}(BGUI.BaseInPacket);t.ReceiveTime=a;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.err=-1,e}return o(e,t),e.prototype.unpack=function(){this.err=this.getError()},e}(BGUI.BaseInPacket);t.ReceiveSkipError=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.unpack=function(){this.symbol=this.getString(),this.currentMoney=this.getDouble(),this.winMoney=this.getDouble()},e}(BGUI.BaseInPacket);t.ReceiveCashOut=u;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSize=-1,e.list=[],e}return o(e,t),e.prototype.unpack=function(){if(0==this.getError()){this.listSize=this.getShort();for(var t=0;t<this.listSize;t++){var e={cardID:this.getInt(),typeSelected:this.getByte(),multiple:this.getDouble(),type:this.getInt()};this.list.push(e)}}},e}(BGUI.BaseInPacket);t.ReceiveHistory=p;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.unpack=function(){},e}(BGUI.BaseInPacket);t.receiveConfirmJoinRoom=h;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userName="",e.winAmount=-1,e.wallet="",e}return o(e,t),e.prototype.unpack=function(){0==this.getError()&&(this.userName=this.getString(),this.winAmount=this.getDouble(),this.wallet=this.getString())},e}(BGUI.BaseInPacket);t.receiveWinNoti=d;var f=function(){function t(){}return t.sendCheckGame=function(){var t=new y;c.Connector.instance.sendPacket(t)},t.sendBet=function(t,e){var n=new _;n.level=t,n.position=e,c.Connector.instance.sendPacket(n),cc.log("send bet",n)},t.skipBet=function(){var t=new g;c.Connector.instance.sendPacket(t)},t.cashOut=function(){var t=new m;c.Connector.instance.sendPacket(t)},t.confirmJoinRoom=function(t,e,n){var i=new S;i.level=t,i.wallet=e,i.betAmount=n,r.default.runError("confirm join room",i),c.Connector.instance.sendPacket(i)},t}();t.Send=f;var y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.getCmdId=function(){return e.CMD_CHECK_GAME},n.prototype.putData=function(){},n}(BGUI.BaseOutPacket);t.SendCheckGame=y;var _=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.getCmdId=function(){return e.CMD_ROUND_RESULT},n.prototype.putData=function(){this.putInt(this.level),this.putInt(this.position)},n}(BGUI.BaseOutPacket);t.SendBet=_;var g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.getCmdId=function(){return e.CMD_SKIP_BET},n.prototype.putData=function(){},n}(BGUI.BaseOutPacket);t.SkipBet=g;var m=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.getCmdId=function(){return e.CMD_CASH_OUT},n.prototype.putData=function(){},n}(BGUI.BaseOutPacket);t.CashOut=m;var S=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.prototype.getCmdId=function(){return e.CMD_CONFIRM_JOIN_ROOM},n.prototype.putData=function(){this.putInt(this.level),this.putString(this.wallet),this.putString(this.betAmount)},n}(BGUI.BaseOutPacket);t.ConfirmJoinRoom=S})(n.Cmd||(n.Cmd={})),cc._RF.pop()},{"./Script.Common":"Script.Common","./Script.Connector":"Script.Connector"}],"Script.Common":[function(t,e,n){"use strict";cc._RF.push(e,"570fe5aDkJAeq+jAHEsgKMk","Script.Common"),Object.defineProperty(n,"__esModule",{value:!0}),n.FIGHTER_ANIMATION=n.MONSTER_ANIMATION=void 0;var i=function(){function t(){}return t.getRandomNumber=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.isInt=function(t){return t%1==0},t.numberWithCommas=function(t,e){return void 0===e&&(e=0),0==t?"0":0!=e?t.toFixed(e).replace(/(\d)(?=(\d{3})+\.)/g,"$1,"):t.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,",")},t.numberWithDots=function(t,e){return void 0===e&&(e=0),0==t?"0":0!=e?t.toFixed(e).replace(/(\d)(?=(\d{3})+\.)/g,"$1."):t.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,".")},t.numberWithOutCommas=function(t){return parseInt(t.replace(/\,/g,""))},t.convertStrToArray=function(t){return t.split("-").map(function(t){return t.split(";").map(Number)})},t.runLog=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.isTest&&(t=BGUI.ZLog).log.apply(t,e)},t.runError=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.isTest&&(t=BGUI.ZLog).error.apply(t,e)},t.compareArrays=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},t.isTest=!window.location.host.includes(".buble.games"),t}();n.default=i;var o=function(){function t(){}return t.ATTACK="afterBet_attack",t.DEAD="afterBet_dead",t.DEBUT="afterBet_debut",t.HURT="afterBet_hurt",t.NORMAL="afterBet_normal",t.NORMAL2="beforeBet_normal",t.SHOUT="beforeBet_shout",t}();n.MONSTER_ANIMATION=o;var r=function(){function t(){}return t.BIGWIN="afterBet_bigwin",t.DEAD="afterBet_dead",t.NORMAL="afterBet_normal",t.SHOTA1="afterBet_shotA1",t.SHOTA2="afterBet_shotA2",t.SHOTA3="afterBet_shotA3",t.SHOTA4="afterBet_shotA4",t.SHOTA5="afterBet_shotA5",t.SHOTA6="afterBet_shotA6",t.SHOTA7="afterBet_shotA7",t.SHOTA8="afterBet_shotA8",t.SHOTB1="afterBet_shotB1",t.SHOTB2="afterBet_shotB2",t.SHOTB3="afterBet_shotB3",t.SHOTB4="afterBet_shotB4",t.SHOTB5="afterBet_shotB5",t.SHOTB6="afterBet_shotB6",t.SHOTB7="afterBet_shotB7",t.SHOTB8="afterBet_shotB8",t.SHOTB9="afterBet_shotB9",t.SHOTB10="afterBet_shotB10",t.SHOTC1="afterBet_shotC1",t.SHOTC2="afterBet_shotC2",t.SHOTC3="afterBet_shotC3",t.SHOTC4="afterBet_shotC4",t.SHOTC5="afterBet_shotC5",t.SHOTC6="afterBet_shotC6",t.SHOTC7="afterBet_shotC7",t.SHOTC8="afterBet_shotC8",t.SHOTC9="afterBet_shotC9",t.SHOTC10="afterBet_shotC10",t.SHOTC11="afterBet_shotC11",t.SHOTC12="afterBet_shotC12",t.NORMAL2="beforeBet_normal",t}();n.FIGHTER_ANIMATION=r,cc._RF.pop()},{}],"Script.ConnectData":[function(t,e,n){"use strict";cc._RF.push(e,"056a4oslaFCyLCAMOPAscAt","Script.ConnectData"),Object.defineProperty(n,"__esModule",{value:!0}),n.ConnectData=void 0;var i=function(){function t(){}return t.WSS=!0,t.HOST="galaxy-attack.buble.games",t.PORT=-1,t.DOMAIN="galaxy-attack.buble.games/ws-galaxy-attack",t.PARTNER="portal",t.CODE="9f047835-c9bc-43fa-a83c-79c827c04084",t}();n.ConnectData=i,cc._RF.pop()},{}],"Script.Connector":[function(t,e,n){"use strict";cc._RF.push(e,"ed7e74aUx9Bp7YF7vSgsyGE","Script.Connector");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0}),n.Connector=void 0;var c=t("./Script.ConnectData"),s=t("./Script.Common"),a=t("./Script.Noti"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getCmdId=function(){return 1},e.prototype.putData=function(){this.putString(this.partner),this.putInt(this.appId),this.putString(this.lang),this.putString(this.code)},e}(BGUI.BaseOutPacket)),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return o(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){var t=cc.Canvas.instance.node.getComponent(n);if(!t){t=cc.Canvas.instance.node.addComponent(n);var e=window.location.href,i=new URLSearchParams(e.split("?")[1]);e&&e.includes("?")&&i&&i.get("accessToken")?(n.instance.SSL=!0,n.instance.HOST=c.ConnectData.DOMAIN):window.location.host.includes("localhost:")?(n.instance.SSL=c.ConnectData.WSS,n.instance.HOST=c.ConnectData.DOMAIN):a.default.instance.openNoti(1)}return t},enumerable:!1,configurable:!0}),e.prototype.onDisconnected=function(e){t.prototype.onDisconnected.call(this,e),a.default.instance.openNoti(2)},e.prototype.onFinishConnect=function(e){t.prototype.onFinishConnect.call(this,e),s.default.runError("Connect Success",e),e?(this.sendLogin(),this.schedule(this.rewindDisconnectDetector)):(this.unschedule(this.rewindDisconnectDetector),a.default.instance.openNoti(1))},e.prototype.sendLogin=function(){try{var t,e=window.location.href,i=new URLSearchParams(e.split("?")[1]);s.default.runError(window.location.href),e&&e.includes("?")&&i&&i.get("accessToken")?((t=new p).partner=i.get("partner"),t.appId=11,t.lang=i.get("lang"),t.lang&&""!==t.lang||(t.lang="en"),t.code=i.get("accessToken"),n.instance.sendPacket(t),s.default.runError("login---\x3e",t)):((t=new p).partner=c.ConnectData.PARTNER,t.lang="en",t.appId=11,t.code=c.ConnectData.CODE,n.instance.sendPacket(t),s.default.runError("login test---\x3e",t))}catch(o){a.default.instance.openNoti(1)}},e.prototype.sendPacket=function(e){this.isConnected()?t.prototype.sendPacket.call(this,e):this.connect()},n=r([u],e)}(BGUI.Connector);n.Connector=h,cc._RF.pop()},{"./Script.Common":"Script.Common","./Script.ConnectData":"Script.ConnectData","./Script.Noti":"Script.Noti"}],"Script.Controller":[function(t,e,n){"use strict";cc._RF.push(e,"202e33BvhZPXI7vawyI0yiu","Script.Controller");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Script.Audio"),s=t("./Script.Cmd"),a=t("./Script.Common"),l=t("./Script.Connector"),u=t("./Script.FootBar"),p=t("./Script.HeadBar"),h=t("./Script.Monster"),d=t("./Script.Noti"),f=cc._decorator,y=f.ccclass,_=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pnGame=null,e.pnBar=null,e.pnPlay=null,e.monsterNode=null,e.prfFootBar=null,e.prfHeadBar=null,e.prfNoti=null,e.prfMenu=null,e.prfRules=null,e.prfTutorial=null,e.listBtnMonster=[],e.listMonsterSkeleton=[],e.listLblDescribtion=[],e.listStar=[],e.listHpLost=[],e.listMonsterPrefab=[],e.mineNum=null,e.lblNextPayOut=null,e.currentPayOut=null,e.playFighter=null,e.listPlay=[],e.winNoti=null,e.prfWinLabel=null,e.pnNoti=null,e.pnHeadBar=null,e.pnFootBar=null,e.pnMenu=null,e.pnRules=null,e.pnTutorial=null,e._scheduler=null,e._isGameActive=!0,e.hideTime=null,e.currentMonster=0,e.currentTarget=-1,e.isDemo=!0,e.localShootTimes=0,e.localWallets=[],e.localRes5004=null,e}var n;return o(e,t),n=e,e.prototype.increaseLST=function(){this.localShootTimes+=1},e.prototype.getIsDemo=function(){return this.isDemo},e.prototype.getCurrentMonster=function(){return this.currentMonster},e.prototype.getLocalWallets=function(){return this.localWallets},e.prototype.setLocalWallets=function(t){this.localWallets=t},e.prototype.onLoad=function(){cc.debug.setDisplayStats(!1),n.instance=this,this.initNoti(),l.Connector.instance.addCmdListener(s.Cmd.Cmd.CMD_LOGIN,this.responseLogin,this),l.Connector.instance.addCmdListener(s.Cmd.Cmd.CMD_GAME_INFO,this.responseGameInfo,this),l.Connector.instance.addCmdListener(s.Cmd.Cmd.CMD_ROUND_RESULT,this.responseRoundResult,this),l.Connector.instance.addCmdListener(s.Cmd.Cmd.CMD_CASH_OUT,this.responseCashOut,this),l.Connector.instance.addCmdListener(s.Cmd.Cmd.CMD_CONFIRM_JOIN_ROOM,this.responseConfirmJoinRoom,this),l.Connector.instance.addCmdListener(s.Cmd.Cmd.CMD_WIN_NOTI,this.responseWinNoti,this),this.isDemo||l.Connector.instance.connect()},e.prototype.onDestroy=function(){l.Connector.instance.disconnect(),l.Connector.instance.removeCmdListener(this,s.Cmd.Cmd.CMD_LOGIN),l.Connector.instance.removeCmdListener(this,s.Cmd.Cmd.CMD_GAME_INFO),l.Connector.instance.removeCmdListener(this,s.Cmd.Cmd.CMD_ROUND_RESULT),l.Connector.instance.removeCmdListener(this,s.Cmd.Cmd.CMD_CASH_OUT),l.Connector.instance.removeCmdListener(this,s.Cmd.Cmd.CMD_CONFIRM_JOIN_ROOM),l.Connector.instance.removeCmdListener(this,s.Cmd.Cmd.CMD_WIN_NOTI),cc.director.getScheduler().unscheduleUpdate(this)},e.prototype.start=function(){var t=this;this.initMusic(),this.initHeadBar(),this.initFootBar(),this.initMenu(),this.initRules(),this.initTutorial(),this.isDemo&&(this.initFake(),this.schedule(function(){t.runResponse(s.Cmd.Cmd.CMD_WIN_NOTI)},5,cc.macro.REPEAT_FOREVER,1)),this.updateMonsterWanted(),this._scheduler=window.setInterval(this.updateOffline.bind(this),1e3/60),cc.game.on(cc.game.EVENT_SHOW,this._onShowGame,this),cc.game.on(cc.game.EVENT_HIDE,this._onHideGame,this)},e.prototype.initMusic=function(){c.default.instance.playMusic(0)},e.prototype.initHeadBar=function(){this.pnHeadBar=cc.instantiate(this.prfHeadBar),this.pnHeadBar.zIndex=999,this.pnHeadBar.active=!0,this.pnBar.addChild(this.pnHeadBar)},e.prototype.initFootBar=function(){this.pnFootBar=cc.instantiate(this.prfFootBar),this.pnFootBar.zIndex=999,this.pnFootBar.active=!0,this.pnBar.addChild(this.pnFootBar)},e.prototype.initNoti=function(){this.pnNoti=cc.instantiate(this.prfNoti),this.pnNoti.zIndex=999,this.pnNoti.active=!0,this.pnGame.parent.addChild(this.pnNoti),this.pnNoti.active=!1},e.prototype.initMenu=function(){this.pnMenu=cc.instantiate(this.prfMenu),this.pnMenu.zIndex=999,this.pnGame.parent.addChild(this.pnMenu),this.pnMenu.active=!1},e.prototype.initRules=function(){this.pnRules=cc.instantiate(this.prfRules),this.pnRules.zIndex=999,this.pnGame.parent.addChild(this.pnRules),this.pnRules.active=!1},e.prototype.initTutorial=function(){this.pnTutorial=cc.instantiate(this.prfTutorial),this.pnTutorial.zIndex=999,this.pnGame.parent.addChild(this.pnTutorial),this.pnTutorial.active=!1},e.prototype.initFake=function(){this.setLocalWallets([{key:"MATIC",value:1e6},{key:"TON",value:1e6},{key:"BNB",value:100},{key:"USDT",value:1e6},{key:"TRX",value:1e6},{key:"GUSD",value:1e6}]),p.default.instance.updateListWallet(this.getLocalWallets()),p.default.instance.onClickChangeWallet(p.default.instance.getCurrentWallet()),u.default.instance.updateBet()},e.prototype.onClickChooseMonster=function(t,e){c.default.instance.playSound(c.SOUND_TYPE.CLICK),this.currentMonster!==parseInt(e)&&(this.listBtnMonster[this.currentMonster].opacity=160,this.listMonsterSkeleton[this.currentMonster].active=!1,this.currentMonster=parseInt(e),this.listBtnMonster[this.currentMonster].opacity=255,this.listMonsterSkeleton[this.currentMonster].active=!0,this.updateMonsterWanted())},e.prototype.updateMonsterWanted=function(){switch(this.currentMonster){case 0:this.listLblDescribtion[0].string="Easy",this.listLblDescribtion[1].string="Dodge all 1 mine and get reward!",this.listLblDescribtion[2].string="7.8",this.listStar[0].active=!1,this.listStar[1].active=!1;break;case 1:this.listLblDescribtion[0].string="Normal",this.listLblDescribtion[1].string="Dodge all 3 mines and get reward!",this.listLblDescribtion[2].string="117",this.listStar[0].active=!0,this.listStar[1].active=!1;break;case 2:this.listLblDescribtion[0].string="Hard",this.listLblDescribtion[1].string="Dodge all 5 mines and get reward!",this.listLblDescribtion[2].string="772.2",this.listStar[0].active=!0,this.listStar[1].active=!0}},e.prototype.onClickMonster=function(){var t=-1;switch(this.currentMonster){case 0:t=c.SOUND_TYPE.ROAR_EASY;break;case 1:t=c.SOUND_TYPE.ROAR_NORMAL;break;case 2:t=c.SOUND_TYPE.ROAR_HARD}c.default.instance.playSound(t);var e=this.listMonsterSkeleton[this.currentMonster].getComponent(sp.Skeleton);e.setAnimation(0,a.MONSTER_ANIMATION.SHOUT,!1),e.setCompleteListener(function(){e.setAnimation(0,a.MONSTER_ANIMATION.NORMAL2,!0)})},e.prototype.onClickRandom=function(){this.monsterNode.children[0].getComponent(h.default).onRandom()},e.prototype.runResponse=function(t){switch(t){case s.Cmd.Cmd.CMD_ROUND_RESULT:this.processRoundResult(this.demoData());break;case s.Cmd.Cmd.CMD_CASH_OUT:var e={winMoney:this.localRes5004.currentPayOut,currentMoney:this.localRes5004.currentUserMoney+this.localRes5004.currentPayOut};this.processCashOut(e);break;case s.Cmd.Cmd.CMD_WIN_NOTI:var n={userName:BGUI.Utils.randomArrayItems(["ShadowStriker","BlazeHunter","FrostViper","ThunderNova","CrimsonPhantom","NightfallRogue","StormBreaker","InfernoKnight","SpectralWarden","VenomDancer"])[0],winAmount:BGUI.Utils.randomFloat(0,77220),wallet:BGUI.Utils.randomArrayItems(["MATIC","TON","BNB","USDT","TRX","GUSD","USDC"])[0]};cc.error(n),this.processWinNoti(n)}},e.prototype.demoData=function(){var t=[[-1,.95,1.03,1.3,1.56,1.95,2.6,3.9,7.8],[-1,.95,1.39,2.09,3.34,5.85,11.7,29.25,117],[-1,.95,1.67,3.06,6.13,13.79,36.77,128.7,772.2]],e={betAmount:u.default.instance.getBetAmount(),isEndGame:!1,currentUserMoney:p.default.instance.getCurrentBalance(),mine:0,currentHp:7-this.localShootTimes,currentPayOut:t[this.currentMonster][this.localShootTimes]*u.default.instance.getBetAmount(),nextPayOut:t[this.currentMonster][this.localShootTimes+1]*u.default.instance.getBetAmount(),rate:t[this.currentMonster][this.localShootTimes],level:this.currentMonster};switch(this.currentMonster){case 0:e.mine=1;break;case 1:e.mine=3;break;case 2:e.mine=5}var n=parseFloat((100*Math.random()).toFixed(3));return n>[[100,92.233,73.077,60.897,48.718,36.538,24.359,12.179],[100,68.345,45.455,28.443,16.239,8.12,3.248,.812],[100,56.886,31.046,15.498,6.889,2.584,.738,.123]][this.currentMonster][this.localShootTimes]&&(e.isEndGame=!0,e.currentPayOut=0),cc.log(n,e),e},e.prototype.showError=function(t){var e=t.getError();0!==e&&a.default.runError("Error: ",e)},e.prototype.checkRes=function(t,e,n){a.default.runError(t,(new Date).toLocaleString()+" "+(new Date).getMilliseconds(),e,n)},e.prototype.responseLogin=function(t,e){var n=new s.Cmd.ReceiveLogin;switch(n.unpackData(e),this.checkRes("responseLogin_GetUserInfor",t,n),this.showError(n),n.getError()){case 0:p.default.instance.updateListWallet(n.wallets),p.default.instance.onClickChangeWallet(p.default.instance.getCurrentWallet()),s.Cmd.Send.sendCheckGame();break;case 1:d.default.instance.openNoti(1),a.default.runError("Token h\u1ebft h\u1ea1n");break;default:d.default.instance.openNoti(1)}},e.prototype.responseGameInfo=function(t,e){var n=new s.Cmd.ReceiveGameInfo;if(n.unpackData(e),this.checkRes("responseGameInfo",t,n),this.showError(n),0===n.getError()){this.localRes5004=n.data,n.data.isEndGame&&s.Cmd.Send.cashOut(),this.startPlay(n.data),this.nextPlay(n.data);for(var i=0;i<n.listPayOut.length;i++)0!==n.listPayOut[i]&&this.monsterNode.children[0].getComponent(h.default).turnTarget(!0,i,n.listPayOut[i])}},e.prototype.responseRoundResult=function(t,e){var n=new s.Cmd.ReceiveRoundResult;n.unpackData(e),this.checkRes("responseRoundResult",t,n),this.showError(n),0===n.getError()?this.processRoundResult(n.data):d.default.instance.openNoti(4)},e.prototype.processRoundResult=function(t){var e=this;this.localRes5004=t,p.default.instance.setCurrentBalance(t.currentUserMoney),t.currentPayOut<0&&!1===t.isEndGame&&this.startPlay(t),t.rate>0&&!1===t.isEndGame&&this.scheduleOnce(function(){e.nextPlay(t)},3),t.isEndGame&&this.scheduleOnce(function(){e.endPlay(t)},3)},e.prototype.responseCashOut=function(t,e){var n=new s.Cmd.ReceiveCashOut;switch(n.unpackData(e),this.checkRes("responseCashOut",t,n),this.showError(n),n.getError()){case 0:this.processCashOut(n);break;default:d.default.instance.openNoti(5)}},e.prototype.processCashOut=function(t){var e=this;c.default.instance.playSound(c.SOUND_TYPE.CASH_OUT),c.default.instance.stopPlayLoop(),p.default.instance.setCurrentBalance(t.currentMoney),p.default.instance.updateWallet(p.default.instance.getCurrentWallet(),t.currentMoney),this.listPlay[0].active=!1,this.listPlay[1].active=!1,this.listPlay[2].active=!1,this.listPlay[3].active=!1,this.listPlay[4].active=!0,this.listPlay[4].children[1].getComponent(cc.Label).string=t.winMoney.toFixed(p.default.instance.getFixedNum()),this.localShootTimes=0,this.scheduleOnce(function(){e.pnPlay.active=!1,e.pnGame.active=!0,u.default.instance.changeMode(!0)},3)},e.prototype.responseConfirmJoinRoom=function(t,e){var n=new s.Cmd.receiveConfirmJoinRoom;n.unpackData(e),this.checkRes("responseConfirmJoinRoom",t,n),this.showError(n);var i=n.getError();switch(i){case 0:break;default:a.default.runError("responseConfirmJoinRoom err:",i)}},e.prototype.responseWinNoti=function(t,e){var n=new s.Cmd.receiveWinNoti;switch(n.unpackData(e),this.checkRes("responseWinNoti",t,n),this.showError(n),n.getError()){case 0:this.processWinNoti(n)}},e.prototype.processWinNoti=function(t){var e=cc.instantiate(this.prfWinLabel);e.children[2].getComponent(cc.Label).string=t.userName.length<=8?t.userName:t.userName.substring(0,2)+"***"+t.userName.substring(t.userName.length-3,t.userName.length),e.children[3].getComponent(cc.Label).string=t.winAmount.toFixed(p.default.instance.getFixedNum2(t.wallet))+" "+t.wallet,this.winNoti.addChild(e),this.winNoti.childrenCount>10&&this.winNoti.children[0].removeFromParent()},e.prototype.startPlay=function(t){c.default.instance.playSound(c.SOUND_TYPE.BEGIN),this.pnGame.active=!1,this.pnPlay.active=!0,this.newPlay();var e=cc.instantiate(this.listMonsterPrefab[t.level]);this.monsterNode.removeAllChildren(),this.monsterNode.addChild(e);var n=this.monsterNode.children[0].children[0].getComponent(sp.Skeleton);n.setAnimation(0,a.MONSTER_ANIMATION.DEBUT,!1),n.setCompleteListener(function(){n.setAnimation(0,a.MONSTER_ANIMATION.NORMAL,!0),n.setCompleteListener(null)}),this.playFighter.setAnimation(0,a.FIGHTER_ANIMATION.NORMAL,!0),this.playFighter.setCompleteListener(null),u.default.instance.changeMode(!1),this.currentPayOut.active=!1,u.default.instance.cashOutInteractable(!1),this.mineNum.string=t.mine.toString(),this.listPlay[0].active=!0,this.listPlay[1].active=!0,this.listPlay[2].active=!0,this.listPlay[3].active=!1,this.listPlay[4].active=!1,this.lblNextPayOut.string=t.nextPayOut.toFixed(p.default.instance.getFixedNum())},e.prototype.nextPlay=function(t){if(this.currentPayOut.active=!0,this.currentPayOut.children[1].getComponent(cc.Label).string=t.currentPayOut.toFixed(p.default.instance.getFixedNum()),u.default.instance.cashOutInteractable(!0),-1!==this.currentTarget&&this.monsterNode.children[0].getComponent(h.default).turnTarget(!0,this.currentTarget,t.rate),t.currentHp<7)for(var e=1;e<8;e++)e>t.currentHp&&(this.listHpLost[e-1].active=!0);t.nextPayOut>0&&(this.lblNextPayOut.string=t.nextPayOut.toFixed(p.default.instance.getFixedNum())),this.monsterNode.children[0].getComponent(h.default).targetInteractable()},e.prototype.endPlay=function(t){var e=this;c.default.instance.playSound(c.SOUND_TYPE.MONSTER_EXPLOSION),c.default.instance.stopPlayLoop(),this.listPlay[0].active=!1,this.listPlay[1].active=!1,this.listPlay[2].active=!1,this.listPlay[3].active=!1,this.monsterNode.children[0].getComponent(h.default).turnTarget(!1,this.currentTarget,t.rate);var n=null;n=this.monsterNode.children[0].children[0].active?this.monsterNode.children[0].children[0].getComponent(sp.Skeleton):this.monsterNode.children[0].children[1].getComponent(sp.Skeleton),this.localShootTimes=0,n.setAnimation(0,a.MONSTER_ANIMATION.ATTACK,!1),n.setCompleteListener(function(){n.setAnimation(0,a.MONSTER_ANIMATION.NORMAL,!0),n.setCompleteListener(null),e.playFighter.setAnimation(0,a.FIGHTER_ANIMATION.DEAD,!1),e.playFighter.setCompleteListener(function(){e.listPlay[4].active=!0,e.listPlay[4].children[1].getComponent(cc.Label).string=t.currentPayOut.toFixed(p.default.instance.getFixedNum()),e.scheduleOnce(function(){e.pnPlay.active=!1,e.pnGame.active=!0,u.default.instance.changeMode(!0)},2)})})},e.prototype.playAnim=function(t){var e=this,n="afterBet_shot";switch(this.currentMonster){case 0:switch(n+="A",t){case 0:n+=5;break;case 1:n+=6;break;case 2:n+=7;break;case 3:n+=4;break;case 4:n+=3;break;case 5:n+=2;break;case 6:n+=1;break;case 7:n+=8}break;case 1:switch(n+="B",t){case 0:n+=5;break;case 1:n+=6;break;case 2:n+=7;break;case 3:n+=8;break;case 4:n+=4;break;case 5:n+=3;break;case 6:n+=2;break;case 7:n+=1;break;case 8:n+=9;break;case 9:n+=10}break;case 2:switch(n+="C",t){case 0:n+=5;break;case 1:n+=6;break;case 2:n+=7;break;case 3:n+=8;break;case 4:n+=9;break;case 5:n+=4;break;case 6:n+=3;break;case 7:n+=2;break;case 8:n+=1;break;case 9:n+=10;break;case 10:n+=12;break;case 11:n+=11}}var i=null;i=this.monsterNode.children[0].children[0].active?this.monsterNode.children[0].children[0].getComponent(sp.Skeleton):this.monsterNode.children[0].children[1].getComponent(sp.Skeleton),this.playFighter.setAnimation(0,n,!1),this.playFighter.setCompleteListener(function(){e.playFighter.setAnimation(0,a.FIGHTER_ANIMATION.NORMAL,!0),e.playFighter.setCompleteListener(null)}),this.scheduleOnce(function(){i.setAnimation(0,a.MONSTER_ANIMATION.HURT,!1),i.setCompleteListener(function(){i.setAnimation(0,a.MONSTER_ANIMATION.NORMAL,!0),i.setCompleteListener(null),3===e.localRes5004.currentHp&&(e.monsterNode.children[0].children[0].active=!1,e.monsterNode.children[0].children[1].active=!0,c.default.instance.playLoop(c.SOUND_TYPE.HEART_BEAT))})},.5)},e.prototype.newPlay=function(){this.monsterNode.removeAllChildren(),this.listHpLost.forEach(function(t){t.active=!1})},e.prototype.scheduleForLbl=function(t,e,n,i,o){var r=t,c=e,s=(c-r)/100;function l(){(r+=s)>=c?(this.unschedule(l),i.string=a.default.numberWithCommas(c,2)):i.string=a.default.numberWithCommas(r,2)}o?this.unschedule(l):this.schedule(l,.01*n)},e.prototype.updateOffline=function(){this._isGameActive||cc.sys.isBrowser&&cc.director.mainLoop()},e.prototype._onShowGame=function(){if(this._isGameActive=!0,cc.sys.isNative&&cc.sys.isMobile&&this.hideTime){for(var t=(performance.now()-this.hideTime)/1e3,e=0;e<t;){var n=Math.min(.1,t-e);cc.director.getScheduler().update(n),e+=n}this.hideTime=null}else cc.game.resume()},e.prototype._onHideGame=function(){this._isGameActive=!1,cc.sys.isNative&&cc.sys.isMobile?this.hideTime=performance.now():cc.game.pause()},e.instance=null,r([_(cc.Node)],e.prototype,"pnGame",void 0),r([_(cc.Node)],e.prototype,"pnBar",void 0),r([_(cc.Node)],e.prototype,"pnPlay",void 0),r([_(cc.Node)],e.prototype,"monsterNode",void 0),r([_(cc.Prefab)],e.prototype,"prfFootBar",void 0),r([_(cc.Prefab)],e.prototype,"prfHeadBar",void 0),r([_(cc.Prefab)],e.prototype,"prfNoti",void 0),r([_(cc.Prefab)],e.prototype,"prfMenu",void 0),r([_(cc.Prefab)],e.prototype,"prfRules",void 0),r([_(cc.Prefab)],e.prototype,"prfTutorial",void 0),r([_(cc.Node)],e.prototype,"listBtnMonster",void 0),r([_(cc.Node)],e.prototype,"listMonsterSkeleton",void 0),r([_(cc.Label)],e.prototype,"listLblDescribtion",void 0),r([_(cc.Node)],e.prototype,"listStar",void 0),r([_(cc.Node)],e.prototype,"listHpLost",void 0),r([_(cc.Prefab)],e.prototype,"listMonsterPrefab",void 0),r([_(cc.Label)],e.prototype,"mineNum",void 0),r([_(cc.Label)],e.prototype,"lblNextPayOut",void 0),r([_(cc.Node)],e.prototype,"currentPayOut",void 0),r([_(sp.Skeleton)],e.prototype,"playFighter",void 0),r([_(cc.Node)],e.prototype,"listPlay",void 0),r([_(cc.Node)],e.prototype,"winNoti",void 0),r([_(cc.Prefab)],e.prototype,"prfWinLabel",void 0),n=r([y],e)}(cc.Component);n.default=g,cc._RF.pop()},{"./Script.Audio":"Script.Audio","./Script.Cmd":"Script.Cmd","./Script.Common":"Script.Common","./Script.Connector":"Script.Connector","./Script.FootBar":"Script.FootBar","./Script.HeadBar":"Script.HeadBar","./Script.Monster":"Script.Monster","./Script.Noti":"Script.Noti"}],"Script.FootBar":[function(t,e,n){"use strict";cc._RF.push(e,"c0e4cQ/dnRLgZgfRuMkAcE1","Script.FootBar");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Script.Audio"),s=t("./Script.Cmd"),a=t("./Script.Controller"),l=t("./Script.HeadBar"),u=t("./Script.Noti"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStake=[],e.stakeNum=null,e.btnConfirm=null,e.btnCashOut=null,e.listNode=[],e.listBetGUSD=[1,2,3,5,10,20,50,100],e.listBetUSDT=[1,2,3,5,10,20,50,100],e.listBetTRX=[6,12,18,30,60,120,300,600],e.listBetTON=[.1,.2,.5,1,2,3,5,10],e.listBetBTC=[1e-5,2e-5,5e-5,1e-4,2e-4,5e-4,.001,.002],e.listBetBNB=[.00175,.0035,.00525,.00875,.0175,.035,.0875,.175],e.listBetMATIC=[1.78,3.56,5.34,8.9,17.8,35.6,89,178],e.listBet=[],e.betOrdi=0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,this.listBet=this.listBetGUSD,this.updateBet()},e.prototype.onClickIncBet=function(){c.default.instance.playSound(c.SOUND_TYPE.CLICK),this.betOrdi+=1,this.updateBet()},e.prototype.onClickDecBet=function(){c.default.instance.playSound(c.SOUND_TYPE.CLICK),this.betOrdi-=1,this.updateBet()},e.prototype.updateBet=function(){this.betOrdi>0&&this.betOrdi<this.listBet.length-1?(this.setInteractable(0,!0),this.setInteractable(1,!0)):0===this.betOrdi?(this.setInteractable(0,!1),this.setInteractable(1,!0)):this.betOrdi===this.listBet.length-1&&(this.setInteractable(0,!0),this.setInteractable(1,!1)),this.updateStake()},e.prototype.updateStake=function(){this.stakeNum.string=this.listBet[this.betOrdi].toString()},e.prototype.setInteractable=function(t,e){this.btnStake[t].interactable=e,this.btnStake[t].node.children[0].children[0].opacity=e?255:140},e.prototype.setConfirmInteractable=function(t){this.btnConfirm.interactable=t},e.prototype.onClickConfirm=function(){c.default.instance.playSound(c.SOUND_TYPE.CLICK),l.default.instance.getCurrentBalance()>=this.getBetAmount()?a.default.instance.getIsDemo()?(l.default.instance.decreaseBalance(),a.default.instance.runResponse(s.Cmd.Cmd.CMD_ROUND_RESULT)):s.Cmd.Send.confirmJoinRoom(a.default.instance.getCurrentMonster(),l.default.instance.getCurrentWallet(),parseFloat(this.getBetAmount()).toString()):u.default.instance.openNoti(3)},e.prototype.getBetAmount=function(){return this.listBet[this.betOrdi]},e.prototype.onClickCashOut=function(){c.default.instance.playSound(c.SOUND_TYPE.CLICK),a.default.instance.getIsDemo()?a.default.instance.runResponse(s.Cmd.Cmd.CMD_CASH_OUT):s.Cmd.Send.cashOut()},e.prototype.changeMode=function(t){t?(this.listNode[0].active=!0,this.listNode[1].active=!0,this.listNode[2].active=!1):(this.listNode[0].active=!1,this.listNode[1].active=!1,this.listNode[2].active=!0)},e.prototype.cashOutInteractable=function(t){this.btnCashOut.interactable=t},e.prototype.updateListBet=function(t){switch(t){case"MATIC":this.listBet=this.listBetMATIC;break;case"TON":this.listBet=this.listBetTON;break;case"BNB":this.listBet=this.listBetBNB;break;case"USDT":case"USDC":this.listBet=this.listBetUSDT;break;case"TRX":this.listBet=this.listBetTRX;break;case"GUSD":default:this.listBet=this.listBetGUSD}this.updateStake()},e.instance=null,r([d(cc.Button)],e.prototype,"btnStake",void 0),r([d(cc.Label)],e.prototype,"stakeNum",void 0),r([d(cc.Button)],e.prototype,"btnConfirm",void 0),r([d(cc.Button)],e.prototype,"btnCashOut",void 0),r([d(cc.Node)],e.prototype,"listNode",void 0),n=r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"./Script.Audio":"Script.Audio","./Script.Cmd":"Script.Cmd","./Script.Controller":"Script.Controller","./Script.HeadBar":"Script.HeadBar","./Script.Noti":"Script.Noti"}],"Script.HeadBar":[function(t,e,n){"use strict";cc._RF.push(e,"137cbUCUMBHFL0K684C1tWS","Script.HeadBar");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Script.Audio"),s=t("./Script.Common"),a=t("./Script.FootBar"),l=t("./Script.Menu"),u=t("./Script.WalletToggle"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblBalance=null,e.btnMenu=null,e.maskWallet=null,e.btnPlus=null,e.walletIcon=null,e.walletIconSF=[],e.toggleGroup=null,e.prfToggle=null,e.currentBalance=0,e.isHide=!1,e.currentWallet="GUSD",e.listWallet=[],e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,this.maskWallet.height=0},e.prototype.onClickMenu=function(){c.default.instance.playSound(c.SOUND_TYPE.CLICK),l.default.instance.open()},e.prototype.getCurrentBalance=function(){return this.currentBalance},e.prototype.setCurrentBalance=function(t){this.currentBalance=t,this.updateBalance()},e.prototype.updateBalance=function(){this.lblBalance.string=this.currentBalance<0?"":s.default.numberWithCommas(this.currentBalance,this.getFixedNum())},e.prototype.decreaseBalance=function(){this.currentBalance-=a.default.instance.getBetAmount(),this.updateBalance()},e.prototype.increaseBalance=function(t){this.currentBalance+=t,this.updateBalance()},e.prototype.setMenuInteractive=function(t){this.btnMenu.interactable=t},e.prototype.onClickPlus=function(){var t=this;c.default.instance.playSound(c.SOUND_TYPE.CLICK),this.btnPlusInteractable(!1),this.isHide?cc.tween(this.maskWallet).to(.5,{height:263}).call(function(){t.btnPlusInteractable(!0)}).start():cc.tween(this.maskWallet).to(.5,{height:0}).call(function(){t.btnPlusInteractable(!0)}).start(),this.isHide=!this.isHide},e.prototype.btnPlusInteractable=function(t){this.btnPlus.interactable=t},e.prototype.onClickChangeWallet=function(t){this.currentWallet=t,this.setWalletIcon(t),this.setCurrentBalance(this.getWalletBalance(t)),a.default.instance.updateListBet(t),this.onClickPlus()},e.prototype.setWalletIcon=function(t){switch(t){case"MATIC":this.walletIcon.spriteFrame=this.walletIconSF[0];break;case"TON":this.walletIcon.spriteFrame=this.walletIconSF[1];break;case"BNB":this.walletIcon.spriteFrame=this.walletIconSF[2];break;case"USDT":this.walletIcon.spriteFrame=this.walletIconSF[3];break;case"TRX":this.walletIcon.spriteFrame=this.walletIconSF[4];break;case"GUSD":this.walletIcon.spriteFrame=this.walletIconSF[5];break;case"USDC":this.walletIcon.spriteFrame=this.walletIconSF[6];break;default:this.walletIcon.spriteFrame=this.walletIconSF[7]}},e.prototype.createToggles=function(){var t=this;this.listWallet.forEach(function(e){var n=cc.instantiate(t.prfToggle);n.getComponent(cc.Toggle).toggleGroup=t.toggleGroup,n.getComponent(u.default).updateToggle(e.key,e.value),t.toggleGroup.node.addChild(n)})},e.prototype.updateListWallet=function(t){this.listWallet=t,this.createToggles()},e.prototype.updateWallet=function(t,e){this.listWallet.forEach(function(n){n.key!==t||(n.value=e)})},e.prototype.getCurrentWallet=function(){return this.currentWallet},e.prototype.onClickDeposit=function(){c.default.instance.playSound(c.SOUND_TYPE.CLICK),cc.sys.openURL("https://t.me/buble_live_bot/deposit")},e.prototype.getWalletBalance=function(t){var e=0;return this.listWallet.forEach(function(n){n.key===t&&(e=n.value)}),e},e.prototype.getFixedNum=function(){switch(this.currentWallet){case"MATIC":return 2;case"TON":return 1;case"BNB":return 5;case"USDT":case"TRX":case"GUSD":default:return 2}},e.prototype.getFixedNum2=function(t){switch(t){case"BNB":return 5;case"MATIC":case"USDT":case"TRX":case"GUSD":return 2;case"TON":return 1;default:return 2}},e.instance=null,r([d(cc.Label)],e.prototype,"lblBalance",void 0),r([d(cc.Button)],e.prototype,"btnMenu",void 0),r([d(cc.Node)],e.prototype,"maskWallet",void 0),r([d(cc.Button)],e.prototype,"btnPlus",void 0),r([d(cc.Sprite)],e.prototype,"walletIcon",void 0),r([d(cc.SpriteFrame)],e.prototype,"walletIconSF",void 0),r([d(cc.ToggleGroup)],e.prototype,"toggleGroup",void 0),r([d(cc.Prefab)],e.prototype,"prfToggle",void 0),n=r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"./Script.Audio":"Script.Audio","./Script.Common":"Script.Common","./Script.FootBar":"Script.FootBar","./Script.Menu":"Script.Menu","./Script.WalletToggle":"Script.WalletToggle"}],"Script.HistoryItem":[function(t,e,n){"use strict";cc._RF.push(e,"a7f49XrdEpOuaZ80SXG7NCS","Script.HistoryItem");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.icon=null,e.card_num=null,e.multi_num=null,e.result=null,e.bgSF=[],e.iconSF=[],e.resultSF=[],e}return o(e,t),e.prototype.createItem=function(t){switch(this.bg.spriteFrame=2===t.type?this.bgSF[1]:this.bgSF[0],t.cardID>=0&&t.cardID<13&&(this.icon.spriteFrame=this.iconSF[0]),t.cardID>=13&&t.cardID<26&&(this.icon.spriteFrame=this.iconSF[1]),t.cardID>=26&&t.cardID<39&&(this.icon.spriteFrame=this.iconSF[2]),t.cardID>=39&&t.cardID<52&&(this.icon.spriteFrame=this.iconSF[3]),t.cardID){case 0:case 13:case 26:case 39:this.card_num.string="2";break;case 1:case 14:case 27:case 40:this.card_num.string="3";break;case 2:case 15:case 28:case 41:this.card_num.string="4";break;case 3:case 16:case 29:case 42:this.card_num.string="5";break;case 4:case 17:case 30:case 43:this.card_num.string="6";break;case 5:case 18:case 31:case 44:this.card_num.string="7";break;case 6:case 19:case 32:case 45:this.card_num.string="8";break;case 7:case 20:case 33:case 46:this.card_num.string="9";break;case 8:case 21:case 34:case 47:this.card_num.string="10";break;case 9:case 22:case 35:case 48:this.card_num.string="J";break;case 10:case 23:case 36:case 49:this.card_num.string="Q";break;case 11:case 24:case 37:case 50:this.card_num.string="K";break;case 12:case 25:case 38:case 51:this.card_num.string="A"}switch(t.cardID<13||t.cardID>=39?this.card_num.node.color=new cc.Color(0,0,0):this.card_num.node.color=new cc.Color(226,0,0),t.multiple){case 0:this.multi_num.string="START";break;case-5:this.multi_num.string="SKIP";break;default:this.multi_num.string=t.multiple.toString()}this.result.spriteFrame=-1===t.typeSelected?null:this.resultSF[t.typeSelected]},r([a(cc.Sprite)],e.prototype,"bg",void 0),r([a(cc.Sprite)],e.prototype,"icon",void 0),r([a(cc.Label)],e.prototype,"card_num",void 0),r([a(cc.Label)],e.prototype,"multi_num",void 0),r([a(cc.Sprite)],e.prototype,"result",void 0),r([a(cc.SpriteFrame)],e.prototype,"bgSF",void 0),r([a(cc.SpriteFrame)],e.prototype,"iconSF",void 0),r([a(cc.SpriteFrame)],e.prototype,"resultSF",void 0),r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],"Script.Menu":[function(t,e,n){"use strict";cc._RF.push(e,"ed9dedaIqtKLaop/kUDyXRy","Script.Menu");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Script.Audio"),s=t("./Script.Rules"),a=t("./Script.Tutorial"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnMute=null,e.muteSF=[],e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,this.updateMute(c.default.instance.getAudioStatus())},e.prototype.open=function(){this.node.active=!0},e.prototype.onClickClose=function(){c.default.instance.playSound(c.SOUND_TYPE.CLICK),this.node.active=!1},e.prototype.onClickRules=function(){c.default.instance.playSound(c.SOUND_TYPE.CLICK),this.node.active=!1,s.default.instance.onClickOpen()},e.prototype.onClickTutorial=function(){c.default.instance.playSound(c.SOUND_TYPE.CLICK),this.node.active=!1,a.default.instance.onClickOpen()},e.prototype.onClickMute=function(){c.default.instance.setAudioStatus(),this.updateMute(c.default.instance.getAudioStatus()),c.default.instance.playSound(c.SOUND_TYPE.CLICK)},e.prototype.updateMute=function(t){t?(this.btnMute.children[0].getComponent(cc.Sprite).spriteFrame=this.muteSF[0],this.btnMute.children[1].active=!0):(this.btnMute.children[0].getComponent(cc.Sprite).spriteFrame=this.muteSF[1],this.btnMute.children[1].active=!1)},e.instance=null,r([p(cc.Node)],e.prototype,"btnMute",void 0),r([p(cc.SpriteFrame)],e.prototype,"muteSF",void 0),n=r([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"./Script.Audio":"Script.Audio","./Script.Rules":"Script.Rules","./Script.Tutorial":"Script.Tutorial"}],"Script.Monster":[function(t,e,n){"use strict";cc._RF.push(e,"e59297xFSFK35/AbFUJtoEL","Script.Monster");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Script.Audio"),s=t("./Script.Cmd"),a=t("./Script.Common"),l=t("./Script.Controller"),u=t("./Script.HeadBar"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listTarget=[],e.listSF=[],e.listClicked=[],e}return o(e,t),e.prototype.onRandom=function(){var t=0;switch(l.default.instance.currentMonster){case 0:t=a.default.getRandomNumber(0,7);break;case 1:t=a.default.getRandomNumber(0,9);break;case 2:t=a.default.getRandomNumber(0,11)}this.listClicked.find(function(e){return e===t})?this.onRandom():this.onClickTarget("",t.toString())},e.prototype.onClickTarget=function(t,e){c.default.instance.playSound(c.SOUND_TYPE.SHOOT);var n=parseInt(e);this.listClicked.push(n),l.default.instance.playAnim(n),l.default.instance.currentTarget=n,this.targetUninteractable(),l.default.instance.getIsDemo()?(l.default.instance.increaseLST(),l.default.instance.runResponse(s.Cmd.Cmd.CMD_ROUND_RESULT)):s.Cmd.Send.sendBet(l.default.instance.localRes5004.level,n)},e.prototype.turnTarget=function(t,e,n){t?(this.listTarget[e].children[0].active=!1,this.listTarget[e].children[1].active=!0,this.listTarget[e].children[1].getComponent(cc.Sprite).spriteFrame=this.listSF[0],this.listTarget[e].children[1].width=49,this.listTarget[e].children[1].height=44,this.listTarget[e].children[1].children[0].getComponent(cc.Label).string=n.toFixed(u.default.instance.getFixedNum())):(this.listTarget[e].children[0].active=!1,this.listTarget[e].children[1].active=!0,this.listTarget[e].children[1].getComponent(cc.Sprite).spriteFrame=this.listSF[1],this.listTarget[e].children[1].width=35,this.listTarget[e].children[1].height=30,this.listTarget[e].children[1].children[0].getComponent(cc.Label).string="")},e.prototype.targetUninteractable=function(){this.listTarget.forEach(function(t){t.getComponent(cc.Button).interactable=!1})},e.prototype.targetInteractable=function(){for(var t=function(t){e.listClicked.find(function(e){return e===t})||(e.listTarget[t].getComponent(cc.Button).interactable=!0)},e=this,n=0;n<this.listTarget.length;n++)t(n)},r([d(cc.Node)],e.prototype,"listTarget",void 0),r([d(cc.SpriteFrame)],e.prototype,"listSF",void 0),r([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"./Script.Audio":"Script.Audio","./Script.Cmd":"Script.Cmd","./Script.Common":"Script.Common","./Script.Controller":"Script.Controller","./Script.HeadBar":"Script.HeadBar"}],"Script.Noti":[function(t,e,n){"use strict";cc._RF.push(e,"bee29fRMTBEqKDIy1k+QGL4","Script.Noti");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../framework/localize/LanguageMgr"),s=t("./Script.Audio"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notiContent=null,e.closeBtn=null,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.openNoti=function(t){this.node.active||(this.node.active=!0);var e="";switch(t){case 0:e=c.LanguageMgr.getString("connection_error"),this.closeBtn.active=!1;break;case 1:e=c.LanguageMgr.getString("connection_error1"),this.closeBtn.active=!1;break;case 2:e=c.LanguageMgr.getString("connection_end"),this.closeBtn.active=!1;break;case 3:e=c.LanguageMgr.getString("not_enough_money"),this.closeBtn.active=!0;break;case 4:e=c.LanguageMgr.getString("spin_error"),this.closeBtn.active=!1;break;case 5:e=c.LanguageMgr.getString("confirm_error"),this.closeBtn.active=!1;break;case 6:e=c.LanguageMgr.getString("something_wrong"),this.closeBtn.active=!0}this.notiContent.string=e},e.prototype.onClickClose=function(){s.default.instance.playSound(s.SOUND_TYPE.CLICK),this.node.active=!1},e.instance=null,r([u(cc.Label)],e.prototype,"notiContent",void 0),r([u(cc.Node)],e.prototype,"closeBtn",void 0),n=r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../framework/localize/LanguageMgr":void 0,"./Script.Audio":"Script.Audio"}],"Script.Rules":[function(t,e,n){"use strict";cc._RF.push(e,"7c751OE9fpNtJ2vkMfXzpqW","Script.Rules");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Script.Audio"),s=cc._decorator,a=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listContents=[],e.currentRule=0,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.onClickToogle=function(t,e){c.default.instance.playSound(c.SOUND_TYPE.CLICK);var n=parseInt(e);n!==this.currentRule?(this.currentRule>=0&&(this.listContents[this.currentRule].active=!1),this.currentRule=n,this.listContents[this.currentRule].active=!0):this.listContents[this.currentRule].active=!this.listContents[this.currentRule].active},e.prototype.onClickClose=function(){c.default.instance.playSound(c.SOUND_TYPE.CLICK),this.node.active=!1},e.prototype.onClickOpen=function(){this.node.active=!0},e.instance=null,r([l(cc.Node)],e.prototype,"listContents",void 0),n=r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./Script.Audio":"Script.Audio"}],"Script.SpineUtils":[function(t,e,n){"use strict";cc._RF.push(e,"faf29lXo8BBbpqIa38A8cey","Script.SpineUtils");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._width=-1,e._height=-1,e}return o(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this;this.updateSize(),cc.view.setResizeCallback(function(){t.updateSize()})},e.prototype.updateSize=function(){var t=this.node.parent.width/this.width;if(t*this.height*this.node.parent.parent.scaleY>=cc.view.getVisibleSize().height)this.node.scale=t,this.node.y=-this.height*t/2;else{var e=cc.view.getVisibleSize().height/this.node.parent.parent.scale/this.height;this.node.scale=e,this.node.y=-this.height*e/2}},r([a({type:cc.Integer})],e.prototype,"_width",void 0),r([a({type:cc.Integer})],e.prototype,"width",null),r([a({type:cc.Integer})],e.prototype,"_height",void 0),r([a({type:cc.Integer})],e.prototype,"height",null),r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],"Script.Target":[function(t,e,n){"use strict";cc._RF.push(e,"999d0ZXI/dClouVo22BoOvs","Script.Target");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.count=-1,e.goUp=!0,e}return o(e,t),e.prototype.onLoad=function(){this.schedule(this.runAnim,.025,cc.macro.REPEAT_FOREVER)},e.prototype.runAnim=function(){this.target.x=156*this.count,this.goUp?this.count-=1:this.count+=1,-16===this.count&&(this.goUp=!1),0===this.count&&(this.goUp=!0)},r([a(cc.Node)],e.prototype,"target",void 0),r([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{}],"Script.Tutorial":[function(t,e,n){"use strict";cc._RF.push(e,"d10b8ltnnhPB6HL5TI6MGQJ","Script.Tutorial");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Script.Audio"),s=cc._decorator,a=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listPages=[],e.listBtns=[],e.pageWidth=0,e.currentPage=0,e.listX=[],e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.prototype.start=function(){},e.prototype.onClickOpen=function(){var t=this;c.default.instance.playSound(c.SOUND_TYPE.CLICK),this.node.active=!0,this.pageWidth=this.node.parent.width,this.listX=[-this.pageWidth,0,this.pageWidth],this.listPages.forEach(function(e){e.width=t.pageWidth}),this.listPages[0].x=this.listX[1],this.listPages[0].opacity=255;for(var e=1;e<this.listPages.length;e++)this.listPages[e].x=this.listX[2],this.listPages[e].opacity=0;this.currentPage=0,this.updateBtn()},e.prototype.onClickClose=function(){c.default.instance.playSound(c.SOUND_TYPE.CLICK),this.node.active=!1},e.prototype.onClickLeft=function(){var t=this;c.default.instance.playSound(c.SOUND_TYPE.CLICK),this.enableBtn(!1),cc.tween(this.listPages[this.currentPage]).to(.25,{position:cc.v3(this.listX[2],0,0)},{easing:""}).call(function(){t.listPages[t.currentPage+1].opacity=0}).start(),this.currentPage-=1,this.listPages[this.currentPage].opacity=255,cc.tween(this.listPages[this.currentPage]).to(.25,{position:cc.v3(this.listX[1],0,0)},{easing:""}).call(function(){t.enableBtn(!0),t.updateBtn()}).start()},e.prototype.onClickRight=function(){var t=this;c.default.instance.playSound(c.SOUND_TYPE.CLICK),this.enableBtn(!1),cc.tween(this.listPages[this.currentPage]).to(.25,{position:cc.v3(this.listX[0],0,0)},{easing:""}).call(function(){t.listPages[t.currentPage-1].opacity=0}).start(),this.currentPage+=1,this.listPages[this.currentPage].opacity=255,cc.tween(this.listPages[this.currentPage]).to(.25,{position:cc.v3(this.listX[1],0,0)},{easing:""}).call(function(){t.enableBtn(!0),t.updateBtn()}).start()},e.prototype.enableBtn=function(t){this.listBtns.forEach(function(e){e.getComponent(cc.Button).interactable=t})},e.prototype.updateBtn=function(){switch(this.currentPage){case 0:this.listBtns[0].opacity=150,this.listBtns[0].getComponent(cc.Button).interactable=!1,this.listBtns[1].opacity=255,this.listBtns[1].getComponent(cc.Button).interactable=!0;break;case 7:this.listBtns[0].opacity=255,this.listBtns[0].getComponent(cc.Button).interactable=!0,this.listBtns[1].opacity=150,this.listBtns[1].getComponent(cc.Button).interactable=!1;break;default:this.listBtns[0].opacity=255,this.listBtns[0].getComponent(cc.Button).interactable=!0,this.listBtns[1].opacity=255,this.listBtns[1].getComponent(cc.Button).interactable=!0}},e.instance=null,r([l(cc.Node)],e.prototype,"listPages",void 0),r([l(cc.Node)],e.prototype,"listBtns",void 0),n=r([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./Script.Audio":"Script.Audio"}],"Script.UINumericalHelper":[function(t,e,n){"use strict";cc._RF.push(e,"41be18FnntOV6KtA++Sh2tr","Script.UINumericalHelper");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._label=null,e._data=0,e._delta=0,e._start=0,e._duration=0,e._elapsed=0,e._progressing=!1,e._protoString="%s",e}var n;return o(e,t),n=e,e.scheduleForLabel=function(t,e,i,o){void 0===i&&(i=.5),void 0===o&&(o="%s");var r=t.node.getComponent(n);r||((r=t.node.addComponent(n)).protoString=o),r.scheduleProgress(e,i)},Object.defineProperty(e.prototype,"label",{get:function(){return this._label||(this._label=this.node.getComponent(cc.Label)),this._label},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"protoString",{get:function(){return this._protoString},set:function(t){this._protoString=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(n.instance=this,!this.label)throw"You must add cc.Label component to use this helper"},e.prototype.start=function(){this.label&&(this.label.string=this.formatNumber(this._data))},e.prototype.onDisable=function(){this._progressing=!1,this.unscheduleAllCallbacks()},e.prototype.scheduleProgress=function(t,e){void 0===e&&(e=.5),this._data=0,this._delta=0,this._start=0,this._duration=0,this._elapsed=0,null==t||null==t||"number"!=typeof t||!this._progressing&&this._data==t||(e>0?(this._elapsed=0,this._duration=e,this._progressing=!0,this._start=this._data,this._delta=t-this._start,this.unscheduleAllCallbacks(),this.schedule(this.updateLabel,0)):(this._elapsed=0,this._duration=0,this._progressing=!1,this._start=this._data,this._delta=t-this._start,this._data=t,this.unscheduleAllCallbacks(),this._label&&(this._label.string=this._protoString.replace(/%s/,this.formatNumber(this._data)))))},e.prototype.formatNumber=function(t,e){return void 0===e&&(e=0),0==t?"0":0!=e?t.toFixed(e).replace(/(\d)(?=(\d{3})+\.)/g,"$1,"):t.toFixed().replace(/\B(?=(\d{3})+(?!\d))/g,",")},e.prototype.updateLabel=function(t){if(this._progressing){this._elapsed+=t;var e=Math.min(1,this._elapsed/this._duration);this._data=this._start+this._delta*Math.pow(e,.2),1==e&&(this._data=this._start+this._delta,this._progressing=!1,this.unscheduleAllCallbacks()),this._label&&(this._label.string=this._protoString.replace(/%s/,this.formatNumber(this._data)))}},e.instance=null,n=r([s],e)}(cc.Component));n.default=a,cc._RF.pop()},{}],"Script.WalletToggle":[function(t,e,n){"use strict";cc._RF.push(e,"f5268aHOiVLPLz2FcodH/kj","Script.WalletToggle");var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,c=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./Script.Audio"),s=t("./Script.HeadBar"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logo=null,e.title=null,e.balance=null,e}return o(e,t),e.prototype.updateToggle=function(t,e){switch(t){case"MATIC":this.logo.spriteFrame=s.default.instance.walletIconSF[0];break;case"TON":this.logo.spriteFrame=s.default.instance.walletIconSF[1];break;case"BNB":this.logo.spriteFrame=s.default.instance.walletIconSF[2];break;case"USDT":this.logo.spriteFrame=s.default.instance.walletIconSF[3];break;case"TRX":this.logo.spriteFrame=s.default.instance.walletIconSF[4];break;case"GUSD":this.logo.spriteFrame=s.default.instance.walletIconSF[5];break;case"USDC":this.logo.spriteFrame=s.default.instance.walletIconSF[6];break;default:this.logo.spriteFrame=s.default.instance.walletIconSF[7]}this.balance.string=e.toFixed(s.default.instance.getFixedNum2(t)),this.title.string=t},e.prototype.onClickChangeWallet=function(){c.default.instance.playSound(c.SOUND_TYPE.CLICK),s.default.instance.onClickChangeWallet(this.title.string)},r([u(cc.Sprite)],e.prototype,"logo",void 0),r([u(cc.Label)],e.prototype,"title",void 0),r([u(cc.Label)],e.prototype,"balance",void 0),r([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"./Script.Audio":"Script.Audio","./Script.HeadBar":"Script.HeadBar"}]},{},["Script.Audio","Script.Cmd","Script.Common","Script.ConnectData","Script.Connector","Script.Controller","Script.FootBar","Script.HeadBar","Script.HistoryItem","Script.Menu","Script.Monster","Script.Noti","Script.Rules","Script.SpineUtils","Script.Target","Script.Tutorial","Script.UINumericalHelper","Script.WalletToggle"]);